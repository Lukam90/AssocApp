erDiagram
    User {
        id int
        email varchar
        password varchar
        first_name varchar
        last_name varchar
        phone varchar
        label varchar
        is_member boolean
        role label
    }

    Message {
        id int
        object varchar
        content text
        is_newsletter boolean
    }

    Mode {
        id int
        label varchar
    }

    Event {
        id int
        planned_at date
        title varchar
        num_available int
        fixed_price double
    }

    Document {
        id int
        title varchar
        file blob
    }

    Reservation {
        id int
        status label
        paid_at date
        total double
        comment text
    }

    Table {
        id int
        price double
        pos_x int
        pos_y int
    }

    User o{ -- }| Message : "envoie"
    User o{ -- }| Message : "reçoit"
    User o{ -- || Document : "télécharge"
    User || -- }o Mode : "paie avec"
    User o{ -- }| Event : "s'inscrit à"
    User |{ -- || Table : "réserve"

    Mode o{ -- || Reservation : "règle"

    Table || -- }| Reservation : "regroupe"
    Event o{ -- || Reservation : "concerne"

    Document o| -- }o Event : "concerne"